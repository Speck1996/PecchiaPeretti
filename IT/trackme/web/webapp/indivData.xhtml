<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
    <title>Individual Data Vidualization - Trackme</title>
    <h:outputStylesheet library="css" name="groupData.css"/>
</h:head>

<h:body>

    <div class="header">
        <div class="header-left">
            <p>Hi, #{homeWebApp.retrieveUsername()}</p>
        </div>
        <div class="header-left">
            <a href="home.xhtml" class="headerButton">HOME</a>
        </div>
        <div class="header-left">
            <a href="requests.xhtml" class="headerButton">REQUESTS</a>
        </div>
        <div class="header-right">
            <h:form>
                <h:commandButton styleClass="headerButton" value="Logout" action="#{webAppLogout.logout()}"/>
            </h:form>
        </div>
    </div>

    <div class="container">
        <h2>Individual Data Vidualization: #{indivData.getNameRequest()}</h2>

        <p>Attributes: #{indivData.getAttributes()}</p>


        <h:panelGroup rendered="#{indivData.wantsBlood()}">
            <h:dataTable value="#{indivData.bloodPressureData}" var="o" styleClass="fixed_headers">
                <f:facet name="caption">Blood Pressure <a href="download?t=i&amp;v=b&amp;n=#{indivData.taxcode}">download</a></f:facet>
                <h:column>
                    <f:facet name="header">Timestamp</f:facet>
                    #{o.getPK().ts}
                </h:column>
                <h:column>
                    <f:facet name="header">Value Min</f:facet>
                    #{o.valueMin}
                </h:column>
                <h:column>
                    <f:facet name="header">Value Max</f:facet>
                    #{o.valueMax}
                </h:column>
                <h:column>
                    <f:facet name="header">Location</f:facet>
                    #{o.latitude}&nbsp;&nbsp;&nbsp;#{o.longitude}
                </h:column>
            </h:dataTable>
        </h:panelGroup>


        <h:panelGroup rendered="#{indivData.wantsHeart()}">
            <h:dataTable value="#{indivData.heartBeatData}" var="o" styleClass="fixed_headers">
                <f:facet name="caption">Heart Rate <a href="download?t=i&amp;v=h&amp;n=#{indivData.taxcode}">download</a></f:facet>
                <h:column>
                    <f:facet name="header">Timestamp</f:facet>
                    #{o.getPK().ts}
                </h:column>
                <h:column>
                    <f:facet name="header">Value</f:facet>
                    #{o.value}
                </h:column>
                <h:column>
                    <f:facet name="header">Location</f:facet>
                    #{o.latitude}&nbsp;&nbsp;&nbsp;#{o.longitude}
                </h:column>
            </h:dataTable>
        </h:panelGroup>


        <h:panelGroup rendered="#{indivData.wantsSleep()}">
            <h:dataTable value="#{indivData.sleepTimeData}" var="o" styleClass="fixed_headers">
                <f:facet name="caption">Sleep Time <a href="download?t=i&amp;v=s&amp;n=#{indivData.taxcode}">download</a></f:facet>
                <h:column>
                    <f:facet name="header">Day</f:facet>
                    #{o.getPK().day}
                </h:column>
                <h:column>
                    <f:facet name="header">Value</f:facet>
                    #{o.value}
                </h:column>
                <h:column>
                    <f:facet name="header">Location</f:facet>
                    #{o.latitude}&nbsp;&nbsp;&nbsp;#{o.longitude}
                </h:column>
            </h:dataTable>
        </h:panelGroup>


        <h:panelGroup rendered="#{indivData.wantsSteps()}">
            <h:dataTable value="#{indivData.stepsData}" var="o" styleClass="fixed_headers">
                <f:facet name="caption">Steps <a href="download?t=i&amp;v=st&amp;n=#{indivData.taxcode}">download</a></f:facet>
                <h:column>
                    <f:facet name="header">Day</f:facet>
                    #{o.getPK().day}
                </h:column>
                <h:column>
                    <f:facet name="header">Value</f:facet>
                    #{o.value}
                </h:column>
                <h:column>
                    <f:facet name="header">Location</f:facet>
                    #{o.latitude}&nbsp;&nbsp;&nbsp;#{o.longitude}
                </h:column>
            </h:dataTable>
        </h:panelGroup>
        <br/>

    </div>


</h:body>
</html>
